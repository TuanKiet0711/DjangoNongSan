{% extends "customer/base.html" %}
{% load static %}
{% load humanize %}

{% block title %}Giỏ hàng{% endblock %}

{% block content %}
<section class="py-5">
  <div class="container">
    <h2 class="mb-4">Giỏ hàng của bạn</h2>

    {% if items %}
    <div class="table-responsive">
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Sản phẩm</th>
            <th class="text-end">Đơn giá</th>
            <th class="text-center">Số lượng</th>
            <th class="text-end">Thành tiền</th>
          </tr>
        </thead>
        <tbody>
          {% for i in items %}
          <tr>
            <td>{{ i.tenSanPham }}</td>
            <td class="text-end">{{ i.don_gia|intcomma }} đ</td>
            <td class="text-center">{{ i.so_luong }}</td>
            <td class="text-end">{{ i.thanh_tien|intcomma }} đ</td>
          </tr>
          {% endfor %}
        </tbody>
        <tfoot>
          <tr>
            <th colspan="3" class="text-end">Tổng cộng</th>
            <th class="text-end">{{ tong_tien|intcomma }} đ</th>
          </tr>
        </tfoot>
      </table>
    </div>

    <div class="d-flex justify-content-between mt-3">
      <a href="{% url 'shop:sanpham_list' %}" class="btn btn-outline-secondary">Tiếp tục mua sắm</a>
      <a href="{% url 'shop:checkout' %}" class="btn btn-success">Tiến hành đặt hàng</a>
    </div>
    {% else %}
    <div class="alert alert-info">Giỏ hàng trống. <a href="{% url 'shop:sanpham_list' %}">Mua sắm ngay</a></div>
    {% endif %}
  </div>
</section>
{% endblock %}
